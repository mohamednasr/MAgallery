/*
 * MAgallery - v1.0.0
 * https://github.com/mohamednasr/MAgallery
 * 2016-9-7
 * Copyright (c) 2016 Mohamed Nasr
 * License: MIT
*/
function MAgallery(l){myGalleries.push(l),$("#"+l).append('<span class="gallery-loading-container"><span class="loading-gallery"></span></span>'),$(window).load(function(){imageThumb(l),$(".gallery-loading-container").remove()}),initClick(l);var a='<div class="gallery-drop"><a class="gallery-close">X</a><div class="container"><div class="gallery-fullscreen"><img src="images/globe.png" class="img-responsive"></div></div><a class="gallery-nav next"><i class="fa fa-angle-right"></i></a><a class="gallery-nav prev"><i class="fa fa-angle-left"></i></a></div>';$("body").append(a),closeFullscreen(),nextImg(),prevImg()}function imageThumb(l){var a=$("#"+l).find("li").width();$("#"+l).find("li").each(function(){$(this).height(a);var l=$(this).find("img")[0];$(l).width()<=$(l).height()&&$(l).addClass("vertical")})}function initClick(l){$("#"+l).find("li").each(function(){$(this).find("span").click(function(){currentDisplayed=$(this).parents("li");var l=$(".gallery-drop .gallery-fullscreen").find("img")[0];console.log(l),$(l).attr("src",$(this).find("img")[0].src),$(".gallery-drop").addClass("show")})})}function closeFullscreen(){$(".gallery-drop img").click(function(){event.stopPropagation()}),$(".gallery-drop .gallery-nav").click(function(){event.stopPropagation()}),$(".gallery-close").click(function(){$(".gallery-drop").removeClass("show")}),$(".gallery-drop").click(function(){$(".gallery-drop").removeClass("show")})}function nextImg(){$(".gallery-nav.next").click(function(){$(currentDisplayed).next().length>0?$(currentDisplayed).next().find("span").click():$(currentDisplayed).parents(".gallery").find("li").first().find("span").click()})}function prevImg(){$(".gallery-nav.prev").click(function(){$(currentDisplayed).prev().length>0?$(currentDisplayed).prev().find("span").click():$(currentDisplayed).parents(".gallery").find("li").last().find("span").click()})}var myGalleries=[];$(window).resize(function(){var l=0;for(l=0;l<myGalleries.length;l++)imageThumb(myGalleries[l])});var currentDisplayed;